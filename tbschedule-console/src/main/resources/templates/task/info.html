<!DOCTYPE html>
<html>
<head>
    <title>
        调度任务详细信息
    </title>

    <meta charset="UTF-8">
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width,user-scalable=yes, minimum-scale=0.4, initial-scale=0.8,target-densitydpi=low-dpi" />
    <link rel="stylesheet" th:href="@{/css/font.css}">
    <link rel="stylesheet" th:href="@{/css/xadmin.css}">
    <script type="text/javascript" th:src="@{/lib/layui/layui.js}" charset="utf-8"></script>
    <script type="text/javascript" th:src="@{/js/xadmin.js}"></script>
    <STYLE type=text/css>
        TH {
            height: 20px;
            color: #5371BA;
            font-weight: bold;
            font-size: 12px;
            text-align: center;
            border: #8CB2E3 solid;
            border-width: 0 1 1 0;
            background-color: #E4EFF1;
            white-space: nowrap;
            overflow: hidden;
        }

        TD {
            background-color: ;
            border: #8CB2E3 1px solid;
            border-width: 0 1 1 0;
            font-size: 12px;
        }

        table {
            border-collapse: collapse
        }
    </STYLE>

</head>
<body style="font-size:12px;">


    <table border="1" th:each="m :${info}">


        <tr>
            <td>
                <table border="1" style="border-COLLAPSE: collapse;display:block;">
                    <tr>
                        <th nowrap>序号</th>
                        <th>线程组编号</th>
                        <th>域</th>
                        <th>IP地址</th>
                        <th>主机名称</th>
                        <th nowrap>线程</th>
                        <th>注册时间</th>
                        <th>心跳时间</th>
                        <th>取数时间</th>
                        <th nowrap>版本</th>
                        <th nowrap>下次开始</th>
                        <th nowrap>下次结束</th>
                        <th>处理详情</th>
                        <th>处理机器</th>
                    </tr>

                    <tr th:each="ms,i:${m.myScheduleServers}" >
                    <td> <span th:utext="${i}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.uuid}}"></span>
                    </td>
                    <td>
                        <span th:utext="${ms.ownSign}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.ip}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.hostName}"></span>
                    </td>
                    <td>
                        <span th:utext="${ms.threadNum}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.registerTime}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.heartBeatTime}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="(${ms.lastFetchDataTime==null}?'--':${ms.lastFetchDataTime})"></span>
                    </td>
                    <td>
                        <span th:utext="${ms.version}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.NextRunStartTime}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.nextRunEndTime}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.dealInfoDesc}"></span>
                    </td>
                    <td nowrap>
                        <span th:utext="${ms.managerFactoryUUID}"></span>
                    </td>
                    </tr>

                </table>
            </td>
        </tr>
        <!-- 队列信息 -->
        <tr>
            <td>
                <table border="1" style="border-COLLAPSE: collapse;display:block;">
                    <tr>
                        <th>任务项</th>
                        <th>当前线程组</th>
                        <th>请求线程组</th>
                        <th>任务状态</th>
                        <th>任务参数</th>
                        <th>处理描述</th>

                    </tr>

                    <tr th:each="mi :${m.scheduleTaskItems}">
                        <td>
                            <span th:utext="${mi.taskItem}"></span>
                        </td>
                        <td>
                            <span th:utext="${mi.currentScheduleServer}"></span>
                        </td>
                        <td>
                            <span th:utext="${mi.requestScheduleServer}"></span>
                        </td>
                        <td>
                            <span th:utext="${mi.sts}"></span>
                        </td>
                        <td>
                            <span th:utext="${mi.dealParameter}"></span>
                        </td>
                        <td>
                            <span th:utext="${mi.dealDesc}"></span>
                        </td>
                    </tr>

                </table>
            </td>
        </tr>

    </table>

</body>
</html>
